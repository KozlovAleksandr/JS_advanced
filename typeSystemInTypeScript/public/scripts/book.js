export class Book {
    constructor(name, genre, price, author, reviews) {
        this.reviews = [];
        this.name = name;
        this.genre = genre;
        this.price = price;
        this.author = author;
        if (reviews) {
            this.reviews = reviews;
        }
        else {
            reviews = [];
        }
        if (this.reviews.length > 0) {
            const reviewSum = this.reviews.reduce((accumulator, currentValue) => {
                return accumulator + currentValue[1];
            }, 0);
            this.rating = reviewSum / this.reviews.length;
        }
        else {
            this.rating = null;
        }
    }
    getProductDescription() {
        return `Book "${this.name}" by ${this.author.firstName} ${this.author.lastName}`;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9vay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ib29rLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBLE1BQU0sT0FBTyxJQUFJO0lBWWIsWUFDSSxJQUFZLEVBQ1osS0FBYSxFQUNiLEtBQWEsRUFDYixNQUFjLEVBQ2QsT0FBb0M7UUFYeEMsWUFBTyxHQUErQixFQUFFLENBQUM7UUFhckMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxPQUFPLEVBQUU7WUFDVCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztTQUMxQjthQUFNO1lBQ0gsT0FBTyxHQUFHLEVBQUUsQ0FBQztTQUNoQjtRQUNELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3pCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxFQUFFLFlBQVksRUFBRSxFQUFFO2dCQUNoRSxPQUFPLFdBQVcsR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ04sSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7U0FDakQ7YUFBTTtZQUNILElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQ3RCO0lBQ0wsQ0FBQztJQTVCRCxxQkFBcUI7UUFDakIsT0FBTyxTQUFTLElBQUksQ0FBQyxJQUFJLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQTtJQUNwRixDQUFDO0NBMkJKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0aG9yIH0gZnJvbSAnLi9hdXRob3InO1xuaW1wb3J0IHsgUmF0aW5nYWJsZSB9IGZyb20gJy4vcmF0aW5nYWJsZSc7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnLi9wcm9kdWN0J1xuXG5leHBvcnQgY2xhc3MgQm9vayBpbXBsZW1lbnRzIFJhdGluZ2FibGUsIFByb2R1Y3Qge1xuICAgIHJhdGluZzogbnVtYmVyIHwgbnVsbDtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZ2VucmU6IHN0cmluZztcbiAgICBwcmljZTogbnVtYmVyO1xuICAgIGF1dGhvcjogQXV0aG9yO1xuICAgIHJldmlld3M6IFtzdHJpbmcsIG51bWJlciwgc3RyaW5nXVtdID0gW107XG5cbiAgICBnZXRQcm9kdWN0RGVzY3JpcHRpb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGBCb29rIFwiJHt0aGlzLm5hbWV9XCIgYnkgJHt0aGlzLmF1dGhvci5maXJzdE5hbWV9ICR7dGhpcy5hdXRob3IubGFzdE5hbWV9YFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIGdlbnJlOiBzdHJpbmcsXG4gICAgICAgIHByaWNlOiBudW1iZXIsXG4gICAgICAgIGF1dGhvcjogQXV0aG9yLFxuICAgICAgICByZXZpZXdzPzogW3N0cmluZywgbnVtYmVyLCBzdHJpbmddW11cbiAgICApIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5nZW5yZSA9IGdlbnJlO1xuICAgICAgICB0aGlzLnByaWNlID0gcHJpY2U7XG4gICAgICAgIHRoaXMuYXV0aG9yID0gYXV0aG9yO1xuICAgICAgICBpZiAocmV2aWV3cykge1xuICAgICAgICAgICAgdGhpcy5yZXZpZXdzID0gcmV2aWV3cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldmlld3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXZpZXdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJldmlld1N1bSA9IHRoaXMucmV2aWV3cy5yZWR1Y2UoKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjdW11bGF0b3IgKyBjdXJyZW50VmFsdWVbMV07XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHRoaXMucmF0aW5nID0gcmV2aWV3U3VtIC8gdGhpcy5yZXZpZXdzLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmF0aW5nID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==